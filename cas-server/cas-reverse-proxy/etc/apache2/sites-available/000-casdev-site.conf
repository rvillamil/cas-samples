<VirtualHost *:80>
  ServerName casdev.company.com

  # This site will simply redirect all traffic from port 80 (HTTP) to port 443 (HTTPS).
  Redirect / https://casdev.company.com
</VirtualHost>


<VirtualHost *:443>

  ProxyRequests Off
  ProxyPreserveHost On
  SSLEngine On

  LogLevel debug ssl:warn
  ErrorLog ${APACHE_LOG_DIR}/error.log
  CustomLog ${APACHE_LOG_DIR}/access.log combined

  ServerName casdev.company.com
  ProxyPass / https://cas-server-overlay:8443/cas/
  ProxyPassReverse / https://cas-server-overlay:8443/cas/
  RequestHeader set X-Forwarded-Proto "https"

  SSLCertificateFile /etc/apache2/external/cert.pem
  SSLCertificateKeyFile /etc/apache2/external/key.pem
  SSLProxyEngine on
  SSLProxyVerify none 
  SSLProxyCheckPeerCN off
  SSLProxyCheckPeerName off
  SSLProxyCheckPeerExpire off
</VirtualHost>
